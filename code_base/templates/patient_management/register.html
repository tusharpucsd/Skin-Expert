{% extends "base.html" %}
{% load i18n custom_tag %}
{% block title %}Register{% endblock title %}
{% block administration_header %}
{% trans "Register User" %}
{% endblock administration_header %}

{% block patient_selected %}
selected
{% endblock patient_selected %}

{% block breadcrumb %}
<ul class="breadcrumb">
	<li>
		<a href="{% url 'patient_list' %}">Patients</a><span class="divider">/</span>
	</li>
	<li class="active">
		{% if edit %}Edit Patient{% else %}Add Patient{% endif %}
	</li>
</ul>
{% endblock %}

{% block content %}

<div class="row-fluid">

	<form class="form-horizontal  martop-20" method="post" action="{% if edit %}{% url 'edit_patient' id %}{% else %}{% url 'register_patient' %}{% endif %}">
		{% csrf_token %}
		<div class="span12">
			<p class="title heading">
				{% if edit %}Edit Patient{% else %}Add Patient{% endif %}
			</p>
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">	
						<div class="control-group">
							<label class="control-label" for="id_first_name">{{form.first_name.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.first_name}}
								{% if form.first_name.errors %}
								{% for error in form.first_name.errors %}
								<label class="error" for="id_first_name">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_last_name">{{form.last_name.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.last_name}}
								{% if form.last_name.errors %}
								{% for error in form.last_name.errors %}
								<label class="error" for="id_last_name">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_username">{{form.username.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.username}}
								{% if form.username.errors %}
								{% for error in form.username.errors %}
								<label class="error" for="id_username">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">	
						<div class="control-group">
							<label class="control-label" for="id_email">{{form.email.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.email}}
								{% if form.email.errors %}
								{% for error in form.email.errors %}
								<label class="error" for="id_email">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			
			
			
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">			
						<div class="control-group">
							<label class="control-label" for="id_last_name">{{form.dob.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.dob}}
								{% if form.dob.errors %}
								{% for error in form.dob.errors %}
								<label class="error" for="id_dob">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div> 
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_code">{{form.code.label}}</label>
							<div class="controls">
								{{form.code}}
								{% if form.code.errors %}
								{% for error in form.code.errors %}
								<label class="error" for="id_code">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_mobile_no">{{form.mobile_no.label}}</label>
							<div class="controls">
								{#{{form.mobile_code}}#}
								{{form.mobile_no}}
								{% if form.mobile_no.errors %}
								{% for error in form.mobile_no.errors %}
								<label class="error" for="id_mobile_no">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right"> 
						<div class="control-group">
							<label class="control-label" for="id_phone_no">{{form.phone_no.label}}</label>
							<div class="controls">
								{#}{{form.phone_code}}#}
								{{form.phone_no}}
								{% if form.phone_no.errors %}
								{% for error in form.phone_no.errors %}
								<label class="error" for="id_phone_no">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			
				
			<p class="title heading">
				Patient Address Details
			</p>	
				
			<div class="row-fluid">
				<div class="span12">
					<!--<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_address">{{form.address.label}}</label>
							<div class="controls">
								{{form.address}}
								{% if form.address.errors %}
								{% for error in form.address.errors %}
								<label class="error" for="id_address">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>-->
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_street">{{form.street.label}}</label>
							<div class="controls">
								{{form.street}}
								{% if form.street.errors %}
								{% for error in form.street.errors %}
								<label class="error" for="id_street">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_landmark">{{form.landmark.label}}</label>
							<div class="controls">
								{{form.landmark}}
								{% if form.landmark.errors %}
								{% for error in form.landmark.errors %}
								<label class="error" for="id_landmark">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row-fluid">
				<div class="span12">
					
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_city">{{form.city.label}}</label>
							<div class="controls">
								{{form.city}}
								{% if form.city.errors %}
								{% for error in form.city.errors %}
								<label class="error" for="id_city">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_state">{{form.state.label}}</label>
							<div class="controls">
								{{form.state}}
								{% if form.state.errors %}
								{% for error in form.state.errors %}
								<label class="error" for="id_state">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>	
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label id="lbl_country" data-link="{% url 'autocomplete_prop' %}"></label>
							<label class="control-label" for="id_country">{{form.country.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.country}}
								{% if form.country.errors %}
								{% for error in form.country.errors %}
								<label class="error" for="id_country">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_pincode">{{form.pincode.label}}</label>
							<div class="controls">
								{{form.pincode}}
								{% if form.pincode.errors %}
								{% for error in form.pincode.errors %}
								<label class="error" for="id_pincode">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			
			<div class="row-fluid">
				<div class="span12">
					
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_ethnic_origin">{{form.ethnic_origin.label}}</label>
							<div class="controls">
								{{form.ethnic_origin}}
								{% if form.ethnic_origin.errors %}
								{% for error in form.ethnic_origin.errors %}
								<label class="error" for="id_ethnic_origin">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
		
			<p class="title heading">
				Medical Details
			</p>
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_prev_disease">{{form.prev_disease.label}}</label>
							<div class="controls">
								{{form.prev_disease}}
								{% if form.prev_disease.errors %}
								{% for error in form.prev_disease.errors %}
								<label class="error" for="id_prev_disease">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_smokes">{{form.smokes.label}}</label>
							<div class="controls">
								{{form.smokes}}
								{% if form.smokes.errors %}
								{% for error in form.smokes.errors %}
								<label class="error" for="id_smokes">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">			
						<div class="control-group">
							<label class="control-label" for="id_smoke_frequency">{{form.smoke_frequency.label}}</label>
							<div class="controls">
								{{form.smoke_frequency}}
								{% if form.smoke_frequency.errors %}
								{% for error in form.smoke_frequency.errors %}
								<label class="error" for="id_smoke_frequency">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
							
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_family_history">{{form.family_history.label}}</label>
							<div class="controls">
								{{form.family_history}}
								{% if form.family_history.errors %}
								{% for error in form.family_history.errors %}
								<label class="error" for="id_family_history">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_alcohol">{{form.alcohol.label}}</label>
							<div class="controls">
								{{form.alcohol}}
								{% if form.alcohol.errors %}
								{% for error in form.alcohol.errors %}
								<label class="error" for="id_alcohol">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>	
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_alcohol_quantity">{{form.alcohol_quantity.label}}</label>
							<div class="controls">
								{{form.alcohol_quantity}}
								{% if form.alcohol_quantity.errors %}
								{% for error in form.alcohol_quantity.errors %}
								<label class="error" for="id_alcohol_quantity">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_other_disease">{{form.other_disease.label}}</label>
							<div class="controls">
								{{form.other_disease}}
								{% if form.other_disease.errors %}
								{% for error in form.other_disease.errors %}
								<label class="error" for="id_other_disease">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">			
						<div class="control-group">
							<label class="control-label" for="id_current_medication">{{form.current_medication.label}}</label>
							<div class="controls">
								{{form.current_medication}}
								{% if form.current_medication.errors %}
								{% for error in form.current_medication.errors %}
								<label class="error" for="id_current_medication">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>			
						<div class="control-group">
							<label class="control-label" for="id_allergies">{{form.allergies.label}}</label>
							<div class="controls">
								{{form.allergies}}
								{% if form.allergies.errors %}
								{% for error in form.allergies.errors %}
								<label class="error" for="id_smokes">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			
			
			<!-- <div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-right">
						<div class="control-group">
						</div>
					</div>
					
				</div>
			</div> -->
		
		<div class="row-fluid">	
			<div class="span6">
				<div class="control-group text-right">
					<div class="controls">
						<p>
							{% if edit %}
							<button class="btn btn-primary" type="submit">
								{% trans "Update" %}
							</button>
							{% else %}
							<button class="btn btn-primary" type="submit">
								{% trans "Register" %}
							</button>
							{% endif %}
							<a href="{% url 'patient_list' %}" class="btn" type="button"> {% trans "Cancel" %} </a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>
{% endblock content %}
{% block js %}
<script type="text/javascript" src="{{ STATIC_URL }}js/chosen/chosen.jquery.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}js/user_management/register.js"></script>
<script src="{{ STATIC_URL }}js/hogan.js"></script>
<script src="{{ STATIC_URL }}js/typeahead.js"></script>
<script src="{{ STATIC_URL }}js/intlTelInput.min.js"></script>

<script type="text/javascript">
$("#id_mobile_no").intlTelInput();
$("#id_phone_no").intlTelInput();

</script>
{% endblock js %}
{% block css %}
<link href="{{ STATIC_URL }}css/chosen.css" rel="stylesheet" type="text/css" />
<link href="{{ STATIC_URL }}css/datepicker.css" rel="stylesheet" type="text/css" >
<link href="{{ STATIC_URL }}css/typeahead.js-bootstrap.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/intlTelInput.css" rel="stylesheet" />
{% endblock css %}
