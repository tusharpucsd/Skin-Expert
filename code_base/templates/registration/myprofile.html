{% extends "base.html" %}
{% load i18n %}
{% block title %}My Profile{% endblock title %}
{% block administration_header %}
{% trans "My Profile" %}
{% endblock administration_header %}

{% block profile_selected %}
selected
{% endblock profile_selected %}

{% block content %}
<div class="container-fluid" id="profile_container">
	<div class="row-fluid">
		{% if messages %}
		<div class="alert martop-20">
			{% for message in messages %}
			<span>{{ message }}</span>
			{% endfor %}
		</div>
		{% endif %}

		<a href="javascript:void(0);" id="change_password_link" class="pull-right">Change Password</a>
		<p>
			&nbsp;
		</p>
		<form class="form-horizontal  martop-20" method="post" action="{% url 'myprofile' %}">
			{% csrf_token %}

			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_first_name">{{form.first_name.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{% if edit %}
								{{form.first_name}}
								{% else %}
								{{form.first_name.value}}
								{% endif %}

								{% if form.first_name.errors %}
								{% for error in form.first_name.errors %}
								<label class="error" for="id_first_name">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_last_name">{{form.last_name.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{% if edit %}
								{{form.last_name}}
								{% else %}
								{{form.last_name.value}}
								{% endif %}

								{% if form.last_name.errors %}
								{% for error in form.last_name.errors %}
								<label class="error" for="id_last_name">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_email">{{form.email.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{% if edit %}
								{{form.email}}
								{% else %}
								{{form.email.value}}
								{% endif %}

								{% if form.email.errors %}
								{% for error in form.email.errors %}
								<label class="error" for="id_email">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_role">{{form.role.label}}<abbr title="required">*</abbr></label>
							<div class="controls">

								{% if edit %}
								{{form.role}}
								{% else %}
								{{role_name}}
								{% endif %}

								{% if form.role.errors %}
								{% for error in form.role.errors %}
								<label class="error" for="id_role">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_phone_no">{{form.phone_no.label}}</label>
							<div class="controls">
								{% if edit %}
								{#{{form.phone_code}}#}
								{{form.phone_no}}
								{% else %}
								{{form.phone_no.value|default:"N.A."}}
								{% endif %}

								{% if form.phone_no.errors %}
								{% for error in form.phone_no.errors %}
								<label class="error" for="id_phone_no">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_mobile_no">{{form.mobile_no.label}}</label>
							<div class="controls">
								{% if edit %}
								{#{{form.mobile_code}}#}
								{{form.mobile_no}}
								{% else %}
								{{form.mobile_no.value}}
								{% endif %}

								{% if form.mobile_no.errors %}
								{% for error in form.mobile_no.errors %}
								<label class="error" for="id_mobile_no">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row-fluid">
				<div class="span12">
					<!--<div class="span6 pull-left">
					<div class="control-group">
					<label class="control-label" for="id_address">{{form.address.label}}</label>
					<div class="controls" style="word-wrap : break-word;">
					{% if edit %}
					{{form.address}}
					{% else %}
					{{form.address.value}}
					{% endif %}

					{% if form.address.errors %}
					{% for error in form.address.errors %}
					<label class="error" for="id_address">{{ error|escape }}</label>
					{% endfor %}
					{% endif %}
					</div>
					</div> -->

					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_street">{{form.street.label}}</label>
							<div class="controls">
								{% if edit %}
								{{form.street}}
								{% else %}
								{{form.street.value|default:"N.A."}}
								{% endif %}

								{% if form.street.errors %}
								{% for error in form.street.errors %}
								<label class="error" for="id_street">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_landmark">{{form.landmark.label}}</label>
							<div class="controls">
								{% if edit %}
								{{form.landmark}}
								{% else %}
								{{form.landmark.value|default:"N.A."}}
								{% endif %}

								{% if form.landmark.errors %}
								{% for error in form.landmark.errors %}
								<label class="error" for="id_landmark">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_city">{{form.city.label}}</label>
							<div class="controls">
								{% if edit %}
								{{form.city}}
								{% else %}
								{{form.city.value}}
								{% endif %}

								{% if form.city.errors %}
								{% for error in form.city.errors %}
								<label class="error" for="id_city">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_state">{{form.state.label}}</label>
							<div class="controls">
								{% if edit %}
								{{form.state}}
								{% else %}
								{{form.state.value}}
								{% endif %}

								{% if form.state.errors %}
								{% for error in form.state.errors %}
								<label class="error" for="id_state">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label id="lbl_country" data-link="{% url 'autocomplete_prop' %}"></label>
							<label class="control-label" for="id_country">{{form.country.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{% if edit %}
								{{form.country}}
								{% else %}
								{{form.country.value}}
								{% endif %}

								{% if form.country.errors %}
								{% for error in form.country.errors %}
								<label class="error" for="id_country">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_pincode">{{form.pincode.label}}</label>
							<div class="controls">
								{% if edit %}
								{{form.pincode}}
								{% else %}
								{{form.pincode.value}}
								{% endif %}

								{% if form.pincode.errors %}
								{% for error in form.pincode.errors %}
								<label class="error" for="id_pincode">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>
	</div>
	<div class="span6">
		<div class="control-group text-right">
			<div class="controls">
				<p>
					{% if not edit %}
					<a href="?e=t" class="btn btn-primary">{% trans "Edit" %}</a>
					<a href="{% if role_name == 'Management Team' or role_name == 'System Administrator' %}{% url 'task_staticstics' %}{% else %}{% url 'task_list' %}{% endif %}" class="btn" type="button"> {% trans "Cancel" %} </a>
					{% else %}
					<button class="btn btn-primary" type="submit">
						{% trans "Save" %}
					</button>
					<a href="{% url 'myprofile' %}" class="btn" type="button"> {% trans "Cancel" %} </a>
					{% endif %}
				</p>
			</div>
		</div>
	</div>
	</form>
</div>
</div>

{% endblock content %}
{% block js %}
<script src="{{ STATIC_URL }}js/jquery.cookie.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap/bootstrap.min.js"></script>
<script src="{{ STATIC_URL }}js/chosen/chosen.jquery.min.js"></script>
<script src="{{ STATIC_URL }}js/user_management/register.js"></script>
<script src="{{ STATIC_URL }}js/user_management/change-password.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap/bootstrap-datepicker.js"></script>
<script src="{{ STATIC_URL }}js/csrf_protection.js"></script>
<script src="{{ STATIC_URL }}js/hogan.js"></script>
<script src="{{ STATIC_URL }}js/typeahead.js"></script>
<script src="{{ STATIC_URL }}js/intlTelInput.min.js"></script>

<script type="text/javascript">
	$("#id_mobile_no").intlTelInput();
	$("#id_phone_no").intlTelInput();

</script>
{% endblock js %}
{% block css %}
<link href="{{ STATIC_URL }}css/chosen.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/datepicker.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/typeahead.js-bootstrap.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/intlTelInput.css" rel="stylesheet" />
{% endblock css %}
