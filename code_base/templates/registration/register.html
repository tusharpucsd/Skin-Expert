{% extends "base.html" %}
{% load i18n %}
{% block title %}
{% if edit %}{% trans "User Profile" %}{% else %}{% trans "Register User" %}{% endif %}
{% endblock title %}
{% block administration_header %}
{% if edit %}{% trans "Edit User Profile" %}{% else %}{% trans "Register User" %}{% endif %}
{% endblock administration_header %}

{% block user_selected %}
selected
{% endblock user_selected %}

{% block breadcrumb %}
<ul class="breadcrumb">
	<li>
		<a href="{% url 'users_list' %}">User</a><span class="divider">/</span>
	</li>
	<li class="active">
		{% if edit %}Edit User{% else %}Add User{% endif %}
	</li>
</ul>
{% endblock %}

{% block content %}

<div class="row-fluid">
	<form class="form-horizontal  martop-20" name="userFrm" method="post" action="{% if edit %}{% url 'edit_user' id %}{% else %}{% url 'register' %}{% endif %}">
		{% csrf_token %}
		<div class="span12">
			<p class="title heading">
				{% if edit %}Edit User{% else %}Add User{% endif %}
			</p>
			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_first_name">{{form.first_name.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.first_name}}
								{% if form.first_name.errors %}
								{% for error in form.first_name.errors %}
								<label class="error" for="id_first_name">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_last_name">{{form.last_name.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.last_name}}
								{% if form.last_name.errors %}
								{% for error in form.last_name.errors %}
								<label class="error" for="id_last_name">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>

						</div>
					</div>
				</div>
			</div>

			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_username">{{form.username.label}}<abbr title="required">*</abbr></label>
							<div class="controls" >
								{{form.username}}
								{% if form.username.errors %}
								{% for error in form.username.errors %}
								<label class="error" for="id_username">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_email">{{form.email.label}}<abbr title="required">*</abbr></label>
							<div class="controls">
								{{form.email}}
								{% if form.email.errors %}
								{% for error in form.email.errors %}
								<label class="error" for="id_email">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="row-fluid">
				<div class="span12">
					<div class="span6 pull-left">
						<div class="control-group">
							<label class="control-label" for="id_mobile_no">{{form.mobile_no.label}}</label>
							<div class="controls">
								{#{{form.mobile_code }}#}
								{{form.mobile_no}}
								{% if form.mobile_no.errors %}
								{% for error in form.mobile_no.errors %}
								<label class="error" for="id_mobile_no">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
					<div class="span6 pull-right">
						<div class="control-group">
							<label class="control-label" for="id_phone_no">{{form.phone_no.label}}</label>
							<div class="controls">
								{#{{form.phone_code}}#}
								{{form.phone_no}}
								{% if form.phone_no.errors %}
								{% for error in form.phone_no.errors %}
								<label class="error" for="id_phone_no">{{ error|escape }}</label>
								{% endfor %}
								{% endif %}
							</div>
						</div>
					</div>
				</div>

				<div class="row-fluid">
					<div class="span12">
						<div class="span6 pull-left">
							<div class="control-group">
								<label class="control-label" for="id_role">{{form.role.label}}<abbr title="required">*</abbr></label>
								<div class="controls">
									{{form.role}}
									{% if form.role.errors %}
									{% for error in form.role.errors %}
									<label class="error" for="id_role">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
						<div class="span6 pull-right">
							<div class="control-group">
								<label class="control-label" for="id_street">{{form.street.label}}</label>
								<div class="controls">
									{{form.street}}
									{% if form.street.errors %}
									{% for error in form.street.errors %}
									<label class="error" for="id_street">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12">	
						<div class="span6 pull-left">
							<div class="control-group">
								<label class="control-label" for="id_landmark">{{form.landmark.label}}</label>
								<div class="controls">
									{{form.landmark}}
									{% if form.landmark.errors %}
									{% for error in form.landmark.errors %}
									<label class="error" for="id_landmark">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
						<div class="span6 pull-right">
							<div class="control-group">
								<label class="control-label" for="id_city">{{form.city.label}}</label>
								<div class="controls">
									{{form.city}}
									{% if form.city.errors %}
									{% for error in form.city.errors %}
									<label class="error" for="id_city">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12">
						<div class="span6 pull-left">
							<div class="control-group">
								<label class="control-label" for="id_state">{{form.state.label}}</label>
								<div class="controls">
									{{form.state}}
									{% if form.state.errors %}
									{% for error in form.state.errors %}
									<label class="error" for="id_state">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
						<div class="span6 pull-right">
							<div class="control-group">
								<label id="lbl_country" data-link="{% url 'autocomplete_prop' %}"></label>
								<label class="control-label" for="id_country">{{form.country.label}}<abbr title="required">*</abbr></label>
								<div class="controls">
									{{form.country}}
									{% if form.country.errors %}
									{% for error in form.country.errors %}
									<label class="error" for="id_country">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="row-fluid">
					<div class="span12">
						<div class="span6 pull-left">
							<div class="control-group">
								<label class="control-label" for="id_pincode">{{form.pincode.label}}</label>
								<div class="controls">
									{{form.pincode}}
									{% if form.pincode.errors %}
									{% for error in form.pincode.errors %}
									<label class="error" id="err_pincode" for="id_pincode">{{ error|escape }}</label>
									{% endfor %}
									{% endif %}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row-fluid">	
			<div class="span6">
				<div class="control-group text-right">
					<div class="controls">
						<p>
							{% if edit %}
							<button class="btn btn-primary" type="submit">
								{% trans "Update" %}
							</button>
							{% else %}
							<button class="btn btn-primary" type="submit">
								{% trans "Register" %}
							</button>
							{% endif %}
							<a href="{% url 'users_list' %}" class="btn" type="button"> {% trans "Cancel" %} </a>
						</p>
					</div>
				</div>
			</div>
		</div>
	</form>
</div>
{% endblock content %}
{% block js %}
<script src="{{ STATIC_URL }}js/chosen/chosen.jquery.min.js"></script>
<script src="{{ STATIC_URL }}js/user_management/register.js"></script>
<script src="{{ STATIC_URL }}js/bootstrap/bootstrap-datepicker.js"></script>
<script src="{{ STATIC_URL }}js/hogan.js"></script>
<script src="{{ STATIC_URL }}js/typeahead.js"></script>
<script src="{{ STATIC_URL }}js/intlTelInput.min.js"></script>

<script type="text/javascript">
	$("#id_mobile_no").intlTelInput();
	$("#id_phone_no").intlTelInput();

</script>
{% endblock js %}
{% block css %}
<link href="{{ STATIC_URL }}css/chosen.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/datepicker.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/typeahead.js-bootstrap.css" rel="stylesheet" />
<link href="{{ STATIC_URL }}css/intlTelInput.css" rel="stylesheet" />
{% endblock css %}

